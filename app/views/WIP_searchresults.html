{% extends "layout.html" %}

{% block pageTitle %}
  Lessons Learned Repository - LLR - Searchresults
{% endblock %}

{% block Content %}
<div class="govuk-phase-banner">
  <p class="govuk-phase-banner__content">
    <strong class="govuk-tag govuk-phase-banner__content__tag">
      alpha
    </strong>
    <span class="govuk-phase-banner__text">
      This is a new service â€“ your <a class="govuk-link" href="mailto:douglas.pollock@hmpo.gov.uk">feedback</a> will help us to improve it.
    </span>
  </p>
</div>
<div class="govuk-breadcrumbs">
  <ol class="govuk-breadcrumbs__list">
    <li class="govuk-breadcrumbs__list-item">
      <a class="govuk-breadcrumbs__link" href="/home">Home</a>
    </li>
    <li class="govuk-breadcrumbs__list-item" aria-current="page">Search</li>
  </ol>
</div>
  <a class="govuk-back-link" href="home.html">Back</a>
{% endblock %}


{% block beforeContent %}
<a class="govuk-back-link" href="home.html">Back</a>

      <h2><a id="Results">Results</a></h2>

      <table class="govuk-table" "pagination" data-pagecount="3">
          <caption class="govuk-table__caption">Results</caption>
          <thead class="govuk-table__head">
            <tr class="govuk-table__row">
              <th scope="col" class="govuk-table__header">Date</th>
              <th scope="col" class="govuk-table__header">Amount</th>
              <th scope="col" class="govuk-table__header">Amount</th>
              <th scope="col" class="govuk-table__header">Amount</th>
    </tr>

        </thead>
        <tbody class="govuk-table__body">
          <tr class="govuk-table__row">
            <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP061-23</a></th>
            <td class="govuk-table__cell">13/12/2019</td>
            <td class="govuk-table__cell">Lesson 1</td>
            <td class="govuk-table__cell">Scott McConnell</td>
          </tr>
          <tr class="govuk-table__row">
            <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP069-262</a></th>
            <td class="govuk-table__cell">16/10/2019</td>
            <td class="govuk-table__cell">Lesson 2</td>
            <td class="govuk-table__cell">Alex Connor</td>
          </tr>
          <tr class="govuk-table__row">
            <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP061-568</a></th>
            <td class="govuk-table__cell">25/09/2019</td>
            <td class="govuk-table__cell">Lesson 3</td>
            <td class="govuk-table__cell">Sophia Kyriacou</td>
          </tr>
          <tr class="govuk-table__row">
            <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
            <td class="govuk-table__cell">14/07/2019</td>
            <td class="govuk-table__cell">Lesson 4</td>
            <td class="govuk-table__cell">Bob Litster</td>
          </tr>
          <tr class="govuk-table__row">
            <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP12-124</a></th>
            <td class="govuk-table__cell">07/02/2019</td>
            <td class="govuk-table__cell">Lesson 5</td>
            <td class="govuk-table__cell">Dougie Pollock</td>
            </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
              <td class="govuk-table__cell">14/07/2019</td>
              <td class="govuk-table__cell">Lesson 6</td>
              <td class="govuk-table__cell">Bob Litster</td>
            </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
              <td class="govuk-table__cell">14/07/2019</td>
              <td class="govuk-table__cell">Lesson 7</td>
              <td class="govuk-table__cell">Bob Litster</td>
              </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
              <td class="govuk-table__cell">14/07/2019</td>
              <td class="govuk-table__cell">Lesson 8</td>
              <td class="govuk-table__cell">Bob Litster</td>
              </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
              <td class="govuk-table__cell">14/07/2019</td>
              <td class="govuk-table__cell">Lesson 9</td>
              <td class="govuk-table__cell">Bob Litster</td>
              </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
              <td class="govuk-table__cell">14/07/2019</td>
              <td class="govuk-table__cell">Lesson 10</td>
              <td class="govuk-table__cell">Bob Litster</td>
              </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
              <td class="govuk-table__cell">14/07/2019</td>
              <td class="govuk-table__cell">Lesson 11</td>
              <td class="govuk-table__cell">Bob Litster</td>
              </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
              <td class="govuk-table__cell">14/07/2019</td>
              <td class="govuk-table__cell">Lesson 12</td>
              <td class="govuk-table__cell">Bob Litster</td>
              </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
              <td class="govuk-table__cell">14/07/2019</td>
              <td class="govuk-table__cell">Lesson 13</td>
              <td class="govuk-table__cell">Bob Litster</td>
              </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
              <td class="govuk-table__cell">14/07/2019</td>
              <td class="govuk-table__cell">Lesson 14</td>
              <td class="govuk-table__cell">Bob Litster</td>
              </tr>
             <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
              <td class="govuk-table__cell">14/07/2019</td>
              <td class="govuk-table__cell">Lesson 15</td>
              <td class="govuk-table__cell">Bob Litster</td>
              </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
              <td class="govuk-table__cell">14/07/2019</td>
              <td class="govuk-table__cell">Lesson 16</td>
              <td class="govuk-table__cell">Bob Litster</td>
              </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
              <td class="govuk-table__cell">14/07/2019</td>
              <td class="govuk-table__cell">Lesson 17</td>
              <td class="govuk-table__cell">Bob Litster</td>
              </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
              <td class="govuk-table__cell">14/07/2019</td>
              <td class="govuk-table__cell">Lesson 18</td>
              <td class="govuk-table__cell">Bob Litster</td>
              </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
              <td class="govuk-table__cell">14/07/2019</td>
              <td class="govuk-table__cell">Lesson 19</td>
              <td class="govuk-table__cell">Bob Litster</td>
              </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
              <td class="govuk-table__cell">14/07/2019</td>
              <td class="govuk-table__cell">Lesson 20</td>
              <td class="govuk-table__cell">Bob Litster</td>
              </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
              <td class="govuk-table__cell">14/07/2019</td>
              <td class="govuk-table__cell">Lesson 21</td>
              <td class="govuk-table__cell">Bob Litster</td>
              </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
              <td class="govuk-table__cell">14/07/2019</td>
              <td class="govuk-table__cell">Lesson 22</td>
              <td class="govuk-table__cell">Bob Litster</td>
              </tr>
              <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
                <td class="govuk-table__cell">14/07/2019</td>
                <td class="govuk-table__cell">Lesson 23</td>
                <td class="govuk-table__cell">Bob Litster</td>
                </tr>
                <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
                <td class="govuk-table__cell">14/07/2019</td>
                <td class="govuk-table__cell">Lesson 24</td>
                <td class="govuk-table__cell">Bob Litster</td>
                </tr>
                <tr class="govuk-table__row">
                    <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
                    <td class="govuk-table__cell">14/07/2019</td>
                    <td class="govuk-table__cell">Lesson 25</td>
                    <td class="govuk-table__cell">Bob Litster</td>
                    </tr>
                  <tr class="govuk-table__row">
                    <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
                    <td class="govuk-table__cell">14/07/2019</td>
                    <td class="govuk-table__cell">Lesson 26</td>
                    <td class="govuk-table__cell">Bob Litster</td>
                    </tr>
                  <tr class="govuk-table__row">
                      <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
                      <td class="govuk-table__cell">14/07/2019</td>
                      <td class="govuk-table__cell">Lesson 27</td>
                      <td class="govuk-table__cell">Bob Litster</td>
                      </tr>
                    <tr class="govuk-table__row">
                        <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
                        <td class="govuk-table__cell">14/07/2019</td>
                        <td class="govuk-table__cell">Lesson 28</td>
                        <td class="govuk-table__cell">Bob Litster</td>
                        </tr>
                      <tr class="govuk-table__row">
                        <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
                        <td class="govuk-table__cell">14/07/2019</td>
                        <td class="govuk-table__cell">Lesson 29</td>
                        <td class="govuk-table__cell">Bob Litster</td>
                      </tr>
                      <tr class="govuk-table__row">
                        <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
                        <td class="govuk-table__cell">14/07/2019</td>
                        <td class="govuk-table__cell">Lesson 30</td>
                        <td class="govuk-table__cell">Bob Litster</td>
                        </tr>
                      <tr class="govuk-table__row">
                        <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
                        <td class="govuk-table__cell">14/07/2019</td>
                        <td class="govuk-table__cell">Lesson 31</td>
                        <td class="govuk-table__cell">Bob Litster</td>
                        </tr>
                      <tr class="govuk-table__row">
                          <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
                          <td class="govuk-table__cell">14/07/2019</td>
                          <td class="govuk-table__cell">Lesson 32</td>
                          <td class="govuk-table__cell">Bob Litster</td>
                          </tr>
                        <tr class="govuk-table__row">
                            <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
                            <td class="govuk-table__cell">14/07/2019</td>
                            <td class="govuk-table__cell">Lesson 33</td>
                            <td class="govuk-table__cell">Bob Litster</td>
                            </tr>
                          <tr class="govuk-table__row">
                            <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
                            <td class="govuk-table__cell">14/07/2019</td>
                            <td class="govuk-table__cell">Lesson 34</td>
                            <td class="govuk-table__cell">Bob Litster</td>
                          </tr>
                        <tr class="govuk-table__row">
                          <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
                          <td class="govuk-table__cell">14/07/2019</td>
                          <td class="govuk-table__cell">Lesson 35</td>
                          <td class="govuk-table__cell">Bob Litster</td>
                          </tr>
                        <tr class="govuk-table__row">
                          <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
                          <td class="govuk-table__cell">14/07/2019</td>
                          <td class="govuk-table__cell">Lesson 36</td>
                          <td class="govuk-table__cell">Bob Litster</td>
                          </tr>
                          <tr class="govuk-table__row">
                              <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
                              <td class="govuk-table__cell">14/07/2019</td>
                              <td class="govuk-table__cell">Lesson 37</td>
                              <td class="govuk-table__cell">Bob Litster</td>
                              </tr>
                          <tr class="govuk-table__row">
                              <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
                              <td class="govuk-table__cell">14/07/2019</td>
                              <td class="govuk-table__cell">Lesson 38</td>
                              <td class="govuk-table__cell">Bob Litster</td>
                              </tr>
                              <tr class="govuk-table__row">
                                <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
                                <td class="govuk-table__cell">14/07/2019</td>
                                <td class="govuk-table__cell">Lesson 39</td>
                                <td class="govuk-table__cell">Bob Litster</td>
                              </tr>
                            <tr class="govuk-table__row">
                              <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
                              <td class="govuk-table__cell">14/07/2019</td>
                              <td class="govuk-table__cell">Lesson 40</td>
                              <td class="govuk-table__cell">Bob Litster</td>
                              </tr>
                            <tr class="govuk-table__row">
                              <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
                              <td class="govuk-table__cell">14/07/2019</td>
                              <td class="govuk-table__cell">Lesson 41</td>
                              <td class="govuk-table__cell">Bob Litster</td>
                              </tr>
                            <tr class="govuk-table__row">
                                <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
                                <td class="govuk-table__cell">14/07/2019</td>
                                <td class="govuk-table__cell">Lesson 42</td>
                                <td class="govuk-table__cell">Bob Litster</td>
                                </tr>
                              <tr class="govuk-table__row">
                                  <th scope="row" class="govuk-table__header"><a href=/lesson_details_page>TP089-129</a></th>
                                  <td class="govuk-table__cell">14/07/2019</td>
                                  <td class="govuk-table__cell">Lesson 43</td>
                                  <td class="govuk-table__cell">Bob Litster</td>
                                  </tr>
        </tbody>
      </table>
    </div>
    </form>
    </div>
    </div>

<script>
    var perPage = 10;

function genTables() {
    var tables = document.querySelectorAll(".pagination");
    for (var i = 0; i < tables.length; i++) {
        perPage = parseInt(tables[i].dataset.pagecount);
        createFooters(tables[i]);
        createTableMeta(tables[i]);
        loadTable(tables[i]);
    }
}

// based on current page, only show the elements in that range
function loadTable(table) {
    var startIndex = 0;

    if (table.querySelector('th'))
        startIndex = 1;

	console.log(startIndex);

    var start = (parseInt(table.dataset.currentpage) * table.dataset.pagecount) + startIndex;
    var end = start + parseInt(table.dataset.pagecount);
    var rows = table.rows;

    for (var x = startIndex; x < rows.length; x++) {
        if (x < start || x >= end)
            rows[x].classList.add("inactive");
        else
            rows[x].classList.remove("inactive");
    }
}

function createTableMeta(table) {
    table.dataset.currentpage = "0";
}

function createFooters(table) {
    var hasHeader = false;
    if (table.querySelector('th'))
        hasHeader = true;

    var rows = table.rows.length;

    if (hasHeader)
        rows = rows - 1;

    var numPages = rows / perPage;
    var pager = document.createElement("div");

    // add an extra page, if we're
    if (numPages % 1 > 0)
        numPages = Math.floor(numPages) + 1;

    pager.className = "pager";
    for (var i = 0; i < numPages ; i++) {
        var page = document.createElement("div");
        page.innerHTML = i + 1;
        page.className = "pager-item";
        page.dataset.index = i;

        if (i == 0)
            page.classList.add("selected");

        page.addEventListener('click', function() {
            var parent = this.parentNode;
            var items = parent.querySelectorAll(".pager-item");
            for (var x = 0; x < items.length; x++) {
                items[x].classList.remove("selected");
            }
            this.classList.add('selected');
            table.dataset.currentpage = this.dataset.index;
            loadTable(table);
        });
        pager.appendChild(page);
    }

    // insert page at the top of the table
    table.parentNode.insertBefore(pager, table);
}

window.addEventListener('load', function() {
    genTables();
});
</script>
  {% endblock %}
